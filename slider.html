<!-- Start of slider code -->
<script>
    var currentIndex = 0;
    var newIndex = null;

    var initialX, initialY, initialTime;

    var sliderElement = document.getElementsByClassName("slider")[0];
    var slideElements = document.getElementsByClassName("slider__slide");
    var slidesLength = slideElements.length;
    var paginationElement = document.getElementsByClassName("slider__pag")[0];
    var sliderNavElements = document.getElementsByClassName("slider__nav__btn");

    function navigateSlider() {
        if (newIndex === -1) {
            newIndex = slidesLength - 1;
        }
        else if (newIndex === slidesLength) {
            newIndex = 0;
        }

        paginationElement.childNodes[currentIndex].querySelector('.slider__pag__btn').classList.remove('slider__pag__btn--active');
        paginationElement.childNodes[newIndex].querySelector('.slider__pag__btn').classList.add('slider__pag__btn--active');

        slideElements[currentIndex].style.display = "none";
        slideElements[newIndex].style.display = "block";
        currentIndex = newIndex;
    }

    sliderElement.addEventListener('touchstart', function(e) {
        initialX = e.touches[0].clientX;
        initialY = e.touches[0].clientY;
        initialTime = new Date();
    });

    sliderElement.addEventListener('touchend', function(e) {
        var deltaX = e.changedTouches[0].clientX - initialX;
        var deltaY = e.changedTouches[0].clientY - initialY;
        var deltaTime = new Date() - initialTime;

        if (deltaTime < 400 && deltaY < 150) {
            if (deltaX > 40) {
                // Swipe-right gesture.
                newIndex--;
                navigateSlider();
            }
            else if (deltaX < -40) {
                // Swipe-left gesture.
                newIndex++;
                navigateSlider();
            }
        }
    });

    sliderNavElements[0].addEventListener('click', function() {
        newIndex--;
        navigateSlider();
    });

    sliderNavElements[1].addEventListener('click', function() {
        newIndex++;
        navigateSlider();
    });

    paginationElement.addEventListener('click', function(e) {
        var target = e.target.closest(".slider__pag__btn");
        if (!target) return;
        if (target.classList.contains("slider__pag__btn")) {
            newIndex = Number(target.getAttribute("aria-posinset"));
            navigateSlider();
        }
    });
</script>